{% extends 'base.html' %}
{% block content %}

<style>
  .btn-simple {
    border-radius: 0.375rem;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
  }

  .btn-simple:hover {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }
</style>

<div class="container mt-5">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="card-title">{{ book.title }}</h2>
      <h5 class="card-subtitle mb-3 text-muted">by {{ book.author }}</h5>

      <p><strong>ISBN:</strong> {{ book.isbn }}</p>

      {% if book.description %}
        <p><strong>Description:</strong></p>
        <p>{{ book.description }}</p>
      {% else %}
        <p><em>No description provided.</em></p>
      {% endif %}

      <div class="mt-4 d-flex gap-2 flex-wrap">
        <a href="{% url 'book_list' %}" class="btn btn-secondary btn-simple">
          ‚Üê Back to list
        </a>

        {% if user.is_authenticated %}
          {% if issued_book %}
            <a href="{% url 'return_book' issued_book.id %}" class="btn btn-primary btn-simple">
              üîô Return Book
            </a>
          {% else %}
            <a href="{% url 'request_book' book.id %}" class="btn btn-success btn-simple">
              ‚ûï Request Book
            </a>
          {% endif %}
        {% else %}
          <p><a href="{% url 'login' %}">Log in</a> to request books.</p>
        {% endif %}

        {% if user.is_staff %}
          <a href="{% url 'book_update' book.id %}" class="btn btn-info btn-simple">
            ‚úèÔ∏è Edit
          </a>

          <a href="{% url 'book_delete' book.id %}" class="btn btn-danger btn-simple">
            üóëÔ∏è Delete
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% endblock content %}
