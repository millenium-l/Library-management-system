{% extends 'base.html' %} {% block content %}
<div class="container mt-5">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="card-title">{{ book.title }}</h2>
      <h5 class="card-subtitle mb-3 text-muted">by {{ book.author }}</h5>

      <p><strong>ISBN:</strong> {{ book.isbn }}</p>

      {% if book.description %}
      <p><strong>Description:</strong></p>
      <p>{{ book.description }}</p>
      {% else %}
      <p><em>No description provided.</em></p>
      {% endif %}

      <div class="mt-4 d-flex gap-2">
        <a href="{% url 'book_list' %}" class="btn btn-secondary"
          >← Back to list</a
        >

        {% if user.is_authenticated %}
        <a href="{% url 'request_book' book.id %}" class="btn btn-primary"
          >Request Book</a
        >
        {% else %}
        <p><a href="{% url 'login' %}">Log in</a> to request books.</p>
        {% endif %}

        <a href="{% url 'return_book' book.id %}" class="btn btn-primary"
          >✏️ Return Book</a
        >
        {% if user.is_staff %}
        <a href="{% url 'book_update' book.id %}" class="btn btn-primary"
          >✏️ Edit</a
        >

        <a href="{% url 'book_delete' book.id %}" class="btn btn-danger"
          >🗑️ Delete</a
        >
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
